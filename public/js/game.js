var Game=function(){this.config={game_start:"game-start",radio_button:"game-mode",radio_choice:"choice",result_box:"result-box",game_result:"game-result",game_score:"game-score",mode_button:"switch-mode",extended_mode:"extended-mode",choices_box:"choices-box"},this.player=null,this.computer1=null,this.computer2=null,this.isRunning=!1,this.solver=null,this.framecounter=0,this.intervalID=null,this.result_box1=null,this.result_box2=null,this.imgArray=[],this.choices=["rock","paper","scissors","lizard","spock"],this.gameMode="p-vs-c",this.maxChoices=3};Game.prototype={init:function(){this.player=new Player,this.computer1=new Computer,this.computer2=new Computer,this.solver=new Solver,this.solver.init(),this.computer1.setName("Computer 1"),this.computer2.setName("Computer 2"),this.result_box1=document.getElementById(this.config.result_box+"1"),this.result_box2=document.getElementById(this.config.result_box+"2"),this.initImageElements(),document.getElementById(this.config.game_start).addEventListener("click",this.handler.start.bind(this),!1),document.getElementById(this.config.mode_button).addEventListener("click",this.handler.toggleChoices.bind(this),!1);for(var e=document.querySelectorAll('input[name="'+this.config.radio_button+'"]'),t=0;t<e.length;t++)e[t].addEventListener("change",this.handler.toggleMode.bind(this),!1)},initImageElements:function(){this.imgArray[0]='<img src="img/rock.jpg">',this.imgArray[1]='<img src="img/paper.jpg">',this.imgArray[2]='<img src="img/scissors.jpg">',this.imgArray[3]='<img src="img/lizard.jpg">',this.imgArray[4]='<img src="img/spock.jpg">'},handler:{start:function(){this.isRunning||(this.isRunning=!0,document.getElementById(this.config.game_result).innerHTML="",this.gameMode=document.querySelector('input[name="'+this.config.radio_button+'"]:checked').value,this.intervalID=setInterval(this.run.bind(this),100))},toggleChoices:function(){var e="none";3==this.maxChoices?(this.maxChoices=5,e="inline"):this.maxChoices=3;for(var t=document.getElementsByClassName(this.config.extended_mode),i=0;i<t.length;i++)t[i].style.display=e},toggleMode:function(){var e="none";"p-vs-c"==this.gameMode?this.gameMode="c_vs_c":(this.gameMode="p-vs-c",e="block"),document.getElementById(this.config.game_score).innerHTML="",document.getElementById(this.config.game_result).innerHTML="",document.getElementById(this.config.choices_box).style.display=e,this.player.setScore(0),this.computer1.setScore(0),this.computer2.setScore(0)}},setRandomPics:function(){var e=Math.floor(Math.random()*this.maxChoices),t=Math.floor(Math.random()*this.maxChoices);this.result_box1.innerHTML=this.imgArray[e],this.result_box2.innerHTML=this.imgArray[t]},printResult:function(e){var t="",i=0,s=0;if("p-vs-c"==this.gameMode)0==e?t="Tie":1==e?(this.player.setScore(this.player.getScore()+1),t="You won"):(this.computer2.setScore(this.computer2.getScore()+1),t="You lost"),i=this.player.getScore(),s=this.computer2.getScore();else{if(0==e)t="Tie";else{var o="";1==e?(this.computer1.setScore(this.computer1.getScore()+1),o=this.computer1.getName()):(this.computer2.setScore(this.computer2.getScore()+1),o=this.computer2.getName()),t=o+" won"}i=this.computer1.getScore(),s=this.computer2.getScore()}document.getElementById(this.config.game_result).innerHTML=t,document.getElementById(this.config.game_score).innerHTML=i+" : "+s},findIndex:function(e){for(var t=0;t<this.choices.length;t++)if(this.choices[t]==e)return t;return 0},run:function(){if(30==this.framecounter){this.isRunning=!1,this.framecounter=0,clearInterval(this.intervalID);var e=null;e="p-vs-c"==this.gameMode?document.querySelector('input[name="'+this.config.radio_choice+'"]:checked').value:this.choices[this.computer1.calculateChoice(this.maxChoices)];var t=this.choices[this.computer2.calculateChoice(this.maxChoices)],i=this.solver.compare(e,t);this.result_box1.innerHTML=this.imgArray[this.findIndex(e)],this.result_box2.innerHTML=this.imgArray[this.findIndex(t)],this.printResult(i)}else this.setRandomPics(),this.framecounter++}},"undefined"!=typeof module&&(module.exports=Game);
//# sourceMappingURL=build.map